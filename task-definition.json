{
    "containerDefinitions": [
      {
        "environment": [
          {
            "name": "ES_JAVA_OPTS",
            "value": "-Xms512m -Xmx512m"
          }
        ],
        "essential": true,
        "image": "docker.elastic.co/elasticsearch/elasticsearch:7.9.0",
        "mountPoints": [
          {
            "containerPath": "/usr/share/elasticsearch/config/elasticsearch.yml",
            "sourceVolume": "./elasticsearch.yml"
          }
        ],
        "name": "elasticsearch",
        "portMappings": [
          {
            "containerPort": 9200,
            "hostPort": 9200
          },
          {
            "containerPort": 9300,
            "hostPort": 9300
          }
        ]
      },
      {
        "essential": true,
        "image": "travel-plan-elasticsearch",
        "mountPoints": [
          {
            "containerPath": "/log",
            "sourceVolume": "_Log"
          }
        ],
        "name": "travel-plan-elasticsearch",
        "portMappings": [
          {
            "containerPort": 8002,
            "hostPort": 8002
          }
        ]
      }

    ],

    "cpu": "512",
    "executionRoleArn": "arn:aws:iam::356567610291:role/ecsTaskExecutionRole",
    "family": "f-task-def-travel-plan-elastic-search",
    "memory": "2048",
    "networkMode": "awsvpc",
    "requiresCompatibilities": [ 
        "FARGATE" 
     ],
    "volumes": [
      {
        "name": "efs-volume",
        "efsVolumeConfiguration": {
          "fileSystemId": "fs-c2633f40",
          "transitEncryption": "ENABLED"
        }
      },

      {
        "host": {
          "sourcePath": "./log"
        },
        "name": "_Log"
      },
      {
        "host": {
          "sourcePath": "./elasticsearch.yml"
        },
        "name": "_Elasticsearch_Yml"
      }
    ]
 }
